import React, { Component } from 'react';

export class If extends Component {
  render() {
    var children = [];
    if (this.props.children != null) {
      if (this.props.children.constructor === Array) {
        children = this.props.children;
      } else {
        children.push(this.props.children);
      }
    }

    if (this.props.condition) {      
      return children.find(item => item.type.name == Then.name);      
    }
    
    let elseIf= children.find(item => item.type.name == ElseIf.name && item.props.condition);
    if (elseIf != null) {
      return elseIf;
    }

    return children.filter(item => item.type.name == Else.name);    
  }
}

class SubRenderComponent extends Component {
  render() {
    return this.props.children;
  }
}

export class Then extends SubRenderComponent {
}

export class ElseIf extends SubRenderComponent {
}
export class Else extends SubRenderComponent {
}